<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ö–∞—Ç–∞–ª–æ–≥ —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ñ–≤</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>
<body>
<div class="container py-4">

  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
    <div class="container">
      <div class="d-flex align-items-center">
        <span id="welcomeText" class="me-3 text-primary fw-bold auth-hidden"></span>
        <a class="navbar-brand" href="#">üì± SmartShop</a>
      </div>

      <div class="ms-auto">
        <!-- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div class="d-flex auth-hidden" id="authButtons">
          <button class="btn btn-outline-primary me-2" data-bs-toggle="modal" data-bs-target="#loginModal">–£–≤—ñ–π—Ç–∏</button>
          <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#registerModal">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div class="d-flex align-items-center auth-hidden" id="logoutSection">
          <span class="me-3 text-primary fw-bold" id="welcomeUserText"></span>
          <button class="btn btn-danger" id="btnLogout">–í–∏–π—Ç–∏</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- –ü–æ—à—É–∫ -->
  <div class="row mb-4">
    <div class="col-md-8">
      <form method="get" action="/" class="d-flex">
        <input type="text" class="form-control me-2" name="q" placeholder="–ü–æ—à—É–∫ —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ñ–≤..." value="{{ request.args.get('q', '') }}">
        <button class="btn btn-primary" type="submit">üîç –ü–æ—à—É–∫</button>
        <input type="hidden" name="sort" value="{{ request.args.get('sort', '') }}">
      </form>
  </div>

  <div class="row">

    <!-- –ê—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç -->
    <div class="col-md-9">
      <h5 class="mb-3">–ê–°–û–†–¢–ò–ú–ï–ù–¢</h5>

      <div class="mb-3">
        <label for="sortSelect" class="form-label"><strong>–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</strong></label>
        <select id="sortSelect" class="form-select" style="max-width: 250px;">
          <option value="">–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º</option>
          <option value="title_asc">–ù–∞–∑–≤–∞ (–ê ‚Üí –Ø)</option>
          <option value="title_desc">–ù–∞–∑–≤–∞ (–Ø ‚Üí –ê)</option>
          <option value="price_asc">–¶—ñ–Ω–∞ (–≤—ñ–¥ –¥–µ—à–µ–≤–∏—Ö)</option>
          <option value="price_desc">–¶—ñ–Ω–∞ (–≤—ñ–¥ –¥–æ—Ä–æ–≥–∏—Ö)</option>
        </select>
      </div>


      <div class="row g-3">

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä—ñ–≤ -->
            {% for product in products %}
            <div class="col-md-3">
              <div class="card product-card h-100">
                <img src="{{ product.image_url }}" class="card-img-top" alt="{{ product.title }}">
                  <div class="card-body text-center">
                    <h6 class="card-title">{{ product.title }}</h6>
                    <p class="card-text text-success fw-bold">{{ product.price }} –≥—Ä–Ω</p>
                  </div>
              </div>
            </div>
          {% endfor %}

      </div>
    </div>

    <!-- –§—ñ–ª—å—Ç—Ä–∏ -->
    <div class="col-md-3">
      <div class="filters">
        <h6>üì± –û—Å–Ω–æ–≤–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h6>
        <div class="mb-2">
          <label for="brandFilter" class="form-label">–ë—Ä–µ–Ω–¥</label>
          <select id="brandFilter" class="form-select">
            <option value="">–£—Å—ñ</option>
            <option value="Apple">Apple</option>
            <option value="Samsung">Samsung</option>
            <option value="Xiaomi">Xiaomi</option>
          </select>
        </div>

        <div class="mb-2">
          <label for="osFilter" class="form-label">–û–°</label>
          <select id="osFilter" class="form-select">
            <option value="">–£—Å—ñ</option>
            <option value="Android">Android</option>
            <option value="iOS">iOS</option>
            <option value="HarmonyOS">HarmonyOS</option>
          </select>
        </div>

        <h6>üì∫ –î–∏—Å–ø–ª–µ–π</h6>
        <div class="mb-2">
          <label for="screenTypeFilter" class="form-label">–¢–∏–ø –µ–∫—Ä–∞–Ω—É</label>
          <select id="screenTypeFilter" class="form-select">
            <option value="">–£—Å—ñ</option>
            <option value="AMOLED">AMOLED</option>
            <option value="OLED">OLED</option>
            <option value="IPS">IPS</option>
          </select>
        </div>

        <div class="mb-2">
          <label for="refreshRateFilter" class="form-label">–ß–∞—Å—Ç–æ—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è</label>
          <select id="refreshRateFilter" class="form-select">
            <option value="">–£—Å—ñ</option>
            <option value="60 –ì—Ü">60 –ì—Ü</option>
            <option value="90 –ì—Ü">90 –ì—Ü</option>
            <option value="120 –ì—Ü">120 –ì—Ü</option>
          </select>
        </div>

        <h6>‚öôÔ∏è –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å</h6>
        <div class="mb-2">
          <label for="ramFilter" class="form-label">–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞ –ø–∞–º º—è—Ç—å (RAM)</label>
          <select id="ramFilter" class="form-select">
            <option value="">–£—Å—è</option>
            <option value="4 –ì–ë">4 –ì–ë</option>
            <option value="6 –ì–ë">6 –ì–ë</option>
            <option value="8 –ì–ë">8 –ì–ë</option>
            <option value="12 –ì–ë">12 –ì–ë</option>
            <option value="32 –ì–ë">32 –ì–ë</option>
            <option value="64 –ì–ë">64 –ì–ë</option>
          </select>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="microsdSupportFilter">
          <label class="form-check-label" for="microsdSupportFilter">–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ microSD</label>
        </div>

        <h6>üîã –ê–∫—É–º—É–ª—è—Ç–æ—Ä</h6>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="fastChargeFilter">
          <label class="form-check-label" for="fastChargeFilter">–®–≤–∏–¥–∫–∞ –∑–∞—Ä—è–¥–∫–∞</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="wirelessChargeFilter">
          <label class="form-check-label" for="wirelessChargeFilter">–ë–µ–∑–¥—Ä–æ—Ç–æ–≤–∞ –∑–∞—Ä—è–¥–∫–∞</label>
        </div>

        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="support5gFilter">
          <label class="form-check-label" for="support5gFilter">–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ 5G</label>
        </div>

        <h6>üîê –ë–µ–∑–ø–µ–∫–∞</h6>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" id="faceUnlockFilter">
          <label class="form-check-label" for="faceUnlockFilter">–†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –æ–±–ª–∏—á—á—è</label>
        </div>

        <div class="mb-2">
          <label for="fingerprintFilter" class="form-label">–°–∫–∞–Ω–µ—Ä –≤—ñ–¥–±–∏—Ç–∫–∞</label>
          <select id="fingerprintFilter" class="form-select">
            <option value="">–ë—É–¥—å-—è–∫–∏–π</option>
            <option value="–ø—ñ–¥ –¥–∏—Å–ø–ª–µ—î–º">–ü—ñ–¥ –¥–∏—Å–ø–ª–µ—î–º</option>
            <option value="–∑–±–æ–∫—É">–ó–±–æ–∫—É</option>
            <option value="–Ω–∞ –∫–Ω–æ–ø—Ü—ñ">–ù–∞ –∫–Ω–æ–ø—Ü—ñ</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <!-- –í—Ö—ñ–¥ -->
  <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="loginLabel">–í—Ö—ñ–¥</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="loginEmail" class="form-label">Email</label>
            <input type="email" class="form-control" id="loginEmail" required>
          </div>
          <div class="mb-3">
            <label for="loginPassword" class="form-label">–ü–∞—Ä–æ–ª—å</label>
            <input type="password" class="form-control" id="loginPassword" required>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="loginSubmit">–£–≤—ñ–π—Ç–∏</button>
        </div>
      </div>
    </div>
  </div>

  <!-- –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è -->
  <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="registerLabel">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="regName" class="form-label">–Ü–º º—è</label>
            <input type="text" class="form-control" id="regName" required>
          </div>
          <div class="mb-3">
            <label for="regEmail" class="form-label">Email</label>
            <input type="email" class="form-control" id="regEmail" required>
          </div>
          <div class="mb-3">
            <label for="regPassword" class="form-label">–ü–∞—Ä–æ–ª—å</label>
            <input type="password" class="form-control" id="regPassword" required>
          </div>
          <div class="mb-3">
            <label for="regConfirmPassword" class="form-label">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é</label>
            <input type="password" class="form-control" id="regConfirmPassword" required>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" id="registerSubmit">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞ –≤ JavaScript -->
<script id="server-data" type="application/json">
  {
    "user": {{ user | tojson if user else "null" }}
  }
</script>

<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ JavaScript -->
<script src="{{ url_for('static', filename='js/main.js') }}"></script>


</body>
</html>